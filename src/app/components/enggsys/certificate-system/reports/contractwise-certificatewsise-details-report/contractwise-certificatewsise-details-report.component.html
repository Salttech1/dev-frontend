<section>
    <form [formGroup]="qf">
      <div class="row g-3 justify-content-center">
        <div class="col-sm-7">
          <div
            class="input-group flex-nowrap"
            appDate1
            [class.is-invalid]="
              (qf.get('range')?.invalid && qf.get('range')?.touched) || qf.errors?.['atLeastOneFilter'] 
            "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1"
              >Period From</span
            >
            <div
              class="bg-white datepicker_field post_input_field flex-grow-1"
              [class.is-invalid]="
                (qf.get('range')?.invalid && qf.get('range')?.touched) ||  qf.errors?.['atLeastOneFilter']"
            >
              <span class="input-group-addon">
                <div mat-form-field appearance="fill" class="matForm">
                  <mat-date-range-input
                    [formGroup]="this.qf.controls['range']"
                    [rangePicker]="picker"
                  >
                    <input
                      class="text-capitalize font12"
                      matStartDate
                      formControlName="periodFrom"
                      placeholder=" From date"
                    />
                    <input
                      matEndDate
                      formControlName="periodTo"
                      placeholder="To date"
                      class="text-capitalize font12"
                    />
                  </mat-date-range-input>
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-date-range-picker #picker></mat-date-range-picker>
                </div>
              </span>
            </div>
          </div>
          <div
            *ngIf="qf.controls['range'].invalid && qf.controls['range'].touched"
          >
            <div
              class="invalid-feedback d-block"
              *ngIf="qf.get('range')?.errors?.['properDate']"
            >
              Proper Date is required
            </div>
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Company Code</span
            >
            <input
              appCommonAutoFocus
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="coy"
              [f1]="{ id: 'COMPANY', multi: true }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div class="input-group" [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] ">
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Building Code</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="bldgCode"
              [f1]="{ id: 'ENGGBUILDINGS', subId: bldgSQ, multi: true }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Work Codes</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="workCode"
              [f1]="{
                id: 'WORKCODES',
                subId: 'ep_closedate is null',
                multi: true
              }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Contractor Code</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="partyCode"
              [f1]="{ id: 'CONTRACTORS', subId: conttorSQ, multi: true }"
            />
          </div>
        </div>
  
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Exclude Contractor Code</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="exclContrCode"
              [f1]="{ id: 'PARTYCODE', multi: true }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Expense Type</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="expenseType"
              [f1]="{ id: 'DEBITTO', fill: 1 }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Exclude Expense Type</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="exclExpenseType"
              [f1]="{ id: 'DEBITTO', fill: 1 }"
            />
          </div>
        </div>
        <div class="col-sm-7">
          <div
            class="input-group"
            [class.is-invalid]="qf?.invalid && qf?.touched && qf.errors?.['atLeastOneFilter'] "
          >
            <span class="input-group-text leftform_lbl font500 text-dark1 font12"
              >Exclude Certificate Type</span
            >
            <input
              type="text"
              class="form-control border-start-0 br-9"
              formControlName="exclCertType"
              [f1]="{ id: 'CERTTYPES', multi: true }"
            />
          </div>
          <div class="invalid-feedback d-block" *ngIf="qf.invalid && qf.touched">
            <div class="font12 font500" *ngIf="qf.errors?.['atLeastOneFilter']">
              Please Select AtLeast One Filter Condition
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>
  <app-loader *ngIf="loaderToggle"></app-loader>
  <section class="action_section position-fixed w-100">
    <div class="container">
      <div class="action_conatiner text-center bg-white br-10 w-100">
        <div class="flex justify-content-between">
          <button
            type="submit"
            class="common_action_btn br-10 border-0 ms-1 bg_common_red text-white first_letter_textdecorationone"
            [attr.accesskey]="loaderToggle == true ? '' : 'w'"
            (click)="getReport(false)"
          >
            Do<u>w</u>nload
          </button>
          <button
            type="submit"
            class="common_action_btn br-10 border-0 ms-1 bg_common_red text-white"
            (click)="getReport(true)"
            [attr.accesskey]="loaderToggle == true ? '' : 'p'"
          >
            Print
          </button>
          <a
            class="common_action_btn br-10 border-0 ms-1 bg_common_red text-white text-decoration-none first_letter_textdecorationone"
            [attr.accesskey]="loaderToggle == true ? '' : 'x'"
            routerLink="/dashboard"
            >E<u>x</u>it
          </a>
        </div>
      </div>
    </div>
  </section>
  